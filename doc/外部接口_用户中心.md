#目的

该文档是早教空间中用户中心的接口文档,它在早教空间内部提供用户相关服务


#接口
###01.微信用户注册接口

微信用户关注众号后,通过本接口进行注册

1）请求说明

http请求方式: post

    http://IP:PORT/userCenter/info/reg

POST数据格式：JSON

    {
	    "body": {
	        "userinfo":{
	                    "openid":"oITR0uAkXSsTgY2YaU2ItDN2kh7g",
	                    "nickname":"大师你懂吗",
	                    "sex":"1",
	                    "language":"zh_CN",
	                    "city":"深圳",
	                    "province":"广东",
	                    "country":"中国",      
	                    "headimgurl":"http://wx.qlogo.cn/mmopen/PiajxSqBRaEInIaAHHYN9ia0CF5rUljZlhDMHniaoft7MXwXDtLTHuACWyWTePqpvVc2qL6aGZchEUBg5X0RZsxyQ/0",
	                    "subscribe_time":"1440076007",
	                    "unionid":"olbkKt-8vkqpPod-N7i1SzSxddIo",
	                    "remark":"",
	                    "subscribe":"1",
	                    "groupid":"0",
	                    "privilege":""
                        },
	        "type":"salesman"
	    },
	    "app": {
	        "appId": "zjhtwallet",
	        "nonce": 966585,
	        "timeStamp": 1437115281,
	        "signature": "65cc63f5cfbab058e2d5e9d9844e4a21"
	    }
	}

参数|是否必须|说明
----|----|-----
userinfo|是|微信用户的信息
type|是|标识微信用户的类别,salesman为业务员,user为家长

2）返回说明

正常时的返回JSON数据包示例：

    {
    "errmsg":"绑定成功！",
    "errcode": 0
	}

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"绑定失败，手机号码不存在！"
    }

###02.业务员账号绑定接口

微信用户访问公众号后,通过本接口可以绑定业务员账号

1）请求说明

http请求方式: post

    http://IP:PORT/userCenter/salesman/bind

POST数据格式：JSON

    {
	    "body": {
	        "unionId":"olbkKt-8vkqpPod-N7i1SzSxddIo",
	        "mobileNum":"18600003333"
	    },
	    "app": {
	        "appId": "zjhtwallet",
	        "nonce": 966585,
	        "timeStamp": 1437115281,
	        "signature": "65cc63f5cfbab058e2d5e9d9844e4a21"
	    }
	}

参数|是否必须|说明
----|----|-----
unionId|是|微信用户的唯一标识
mobileNum|是|要绑定的手机号码

2）返回说明

正常时的返回JSON数据包示例：

    {
    "errmsg":"绑定成功！",
    "errcode": 0
	}

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"绑定失败，手机号码不存在！"
    }
###03.家长账号绑定接口

微信用户访问公众号后,通过本接口可以绑定家长账号

1）请求说明

http请求方式: post

    http://IP:PORT/userCenter/user/bind

POST数据格式：JSON

    {
	    "body": {
	        "unionId":"olbkKt-8vkqpPod-N7i1SzSxddIo",
	        "mobileNum":"18600003333"
	    },
	    "app": {
	        "appId": "zjhtwallet",
	        "nonce": 966585,
	        "timeStamp": 1437115281,
	        "signature": "65cc63f5cfbab058e2d5e9d9844e4a21"
	    }
	}

参数|是否必须|说明
----|----|-----
unionId|是|微信用户的唯一标识
mobileNum|是|要绑定的手机号码

2）返回说明

正常时的返回JSON数据包示例：

    {
    "errmsg":"绑定成功！",
    "errcode": 0
	}

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"绑定失败，手机号码不存在！"
    }


### 是否为会员接口

微信调用此接口判断是否为会员

1）请求说明

http请求方式: post

    http://IP:PORT/babySpace/customerDev/userCenter/user/exists



POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP",
            "nonce":"NONCE",
            "signature":"SIGNATURE",
        },
	"body":{
	    "unionId":"86976854"
	}
    }


参数|是否必须|说明
----|----|-----
appId|是|营销账户平台统一分配的appId
app.timeStamp|是|时间戳
app.nonce|是|随机数
app.signature|是|签名值，MD5(按值的字典顺序排列组合成字符串(appId,appKey,app.nonce,app.timeStamp))
body.unionId|是|用户微信Id

2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0000,"errmsg":"判断成功",
	"isExistUser":"存在"
    }


错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"判断失败，其它错误",
    }

参数|是否必须|说明
----|----|-----
isExistUser|是|用户是否存在